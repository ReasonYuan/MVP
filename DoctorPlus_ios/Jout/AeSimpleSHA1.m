//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/liaomin/Documents/workspace/Android/DocPlusLogic/src/com/fq/lib/tools/AeSimpleSHA1.java
//
//  Created by liaomin on 15-5-4.
//

#line 1 "/Users/liaomin/Documents/workspace/Android/DocPlusLogic/src/com/fq/lib/tools/AeSimpleSHA1.java"

#include "AeSimpleSHA1.h"
#include "IOSPrimitiveArray.h"
#include "android/util/Log.h"
#include "java/lang/Exception.h"
#include "java/lang/StringBuilder.h"
#include "java/security/MessageDigest.h"


#line 7
@implementation ComFqLibToolsAeSimpleSHA1


#line 8
+ (NSString *)convertToHexWithByteArray:(IOSByteArray *)data {
  JavaLangStringBuilder *buf = [[JavaLangStringBuilder alloc] init];
  {
    IOSByteArray *a__ =
#line 10
    data;
    char const *b__ = ((IOSByteArray *) nil_chk(a__))->buffer_;
    char const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      char b = (*b__++);
      
#line 11
      int halfbyte = ((char) (((unsigned char) b) >> 4)) & (int) 0x0F;
      int two_halfs = 0;
      do {
        (void) [buf appendWithChar:(0 <= halfbyte) && (halfbyte <= 9) ? (unichar) ('0' + halfbyte) : (unichar) ('a' + (halfbyte - 10))];
        halfbyte = b & (int) 0x0F;
      }
      while (
#line 16
      two_halfs++ < 1);
    }
  }
  
#line 18
  return [buf description];
}


#line 21
+ (NSString *)SHA1WithNSString:(NSString *)text {
  
#line 22
  @try {
    JavaSecurityMessageDigest *md = [JavaSecurityMessageDigest getInstanceWithNSString:@"SHA-1"];
    [((JavaSecurityMessageDigest *) nil_chk(md)) updateWithByteArray:[((NSString *) nil_chk(text)) getBytesWithCharsetName:@"iso-8859-1"] withInt:0 withInt:((int) [text length])];
    IOSByteArray *sha1hash = [md digest];
    return [ComFqLibToolsAeSimpleSHA1 convertToHexWithByteArray:sha1hash];
  }
  @catch (
#line 27
  JavaLangException *e) {
    [AndroidUtilLog eWithNSString:@"" withNSString:@"" withJavaLangThrowable:e];
  }
  return @"";
}


#line 33
+ (NSString *)repeat20TimesWithNSString:(NSString *)text {
  
#line 34
  NSString *str = @"";
  for (int i = 0; i < 20; i++) {
    str = [NSString stringWithFormat:@"%@%@", str, text];
  }
  return str;
}


#line 46
+ (NSString *)repeat20TimesAndSHA1WithNSString:(NSString *)text {
  
#line 47
  return [ComFqLibToolsAeSimpleSHA1 SHA1WithNSString:[ComFqLibToolsAeSimpleSHA1 repeat20TimesWithNSString:text]];
}

- (id)init {
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "convertToHexWithByteArray:", "convertToHex", "Ljava.lang.String;", 0xa, NULL },
    { "SHA1WithNSString:", "SHA1", "Ljava.lang.String;", 0x9, NULL },
    { "repeat20TimesWithNSString:", "repeat20Times", "Ljava.lang.String;", 0x9, NULL },
    { "repeat20TimesAndSHA1WithNSString:", "repeat20TimesAndSHA1", "Ljava.lang.String;", 0x9, NULL },
    { "init", NULL, NULL, 0x1, NULL },
  };
  static J2ObjcClassInfo _ComFqLibToolsAeSimpleSHA1 = { "AeSimpleSHA1", "com.fq.lib.tools", NULL, 0x1, 5, methods, 0, NULL, 0, NULL};
  return &_ComFqLibToolsAeSimpleSHA1;
}

@end
