//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/liaomin/Documents/workspace/Android/DocPlusLogic/src/com/fq/lib/ChinesetSortHelper.java
//
//  Created by liaomin on 15-5-4.
//

#line 1 "/Users/liaomin/Documents/workspace/Android/DocPlusLogic/src/com/fq/lib/ChinesetSortHelper.java"

#include "BadHanyuPinyinOutputFormatCombination.h"
#include "ChinesetSortHelper.h"
#include "HanyuPinyinCaseType.h"
#include "HanyuPinyinOutputFormat.h"
#include "HanyuPinyinToneType.h"
#include "HanyuPinyinVCharType.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "PinyinHelper.h"
#include "java/lang/Character.h"


#line 12
@implementation ComFqLibChinesetSortHelper


#line 20
+ (NSString *)getPingYinWithNSString:(NSString *)inputString {
  
#line 21
  ComFqLibPinyin4jHanyuPinyinOutputFormat *format = [[ComFqLibPinyin4jHanyuPinyinOutputFormat alloc] init];
  [format setCaseTypeWithComFqLibPinyin4jHanyuPinyinCaseType:ComFqLibPinyin4jHanyuPinyinCaseType_get_UPPERCASE_()];
  [format setToneTypeWithComFqLibPinyin4jHanyuPinyinToneType:ComFqLibPinyin4jHanyuPinyinToneType_get_WITHOUT_TONE_()];
  [format setVCharTypeWithComFqLibPinyin4jHanyuPinyinVCharType:ComFqLibPinyin4jHanyuPinyinVCharType_get_WITH_V_()];
  
#line 26
  IOSCharArray *input = [((NSString *) nil_chk([((NSString *) nil_chk(inputString)) trim])) toCharArray];
  NSString *output = @"";
  
#line 29
  @try {
    for (int i = 0; i < (int) [((IOSCharArray *) nil_chk(input)) count]; i++) {
      if ([((NSString *) nil_chk([JavaLangCharacter toStringWithChar:IOSCharArray_Get(input, i)])) matches:
#line 32
      @"[\\u4E00-\\u9FA5]+"]) {
        IOSObjectArray *temp = [ComFqLibPinyin4jPinyinHelper toHanyuPinyinStringArrayWithChar:IOSCharArray_Get(input, i) withComFqLibPinyin4jHanyuPinyinOutputFormat:format];
        if (temp != nil && (int) [temp count] > 0) {
          output = [NSString stringWithFormat:@"%@%@", output, IOSObjectArray_Get(temp, 0)];
        }
      }
      else output = [NSString stringWithFormat:@"%@%@", output, [JavaLangCharacter toStringWithChar:IOSCharArray_Get(input, i)]];
    }
  }
  @catch (
#line 40
  ComFqLibPinyin4jBadHanyuPinyinOutputFormatCombination *e) {
    [((ComFqLibPinyin4jBadHanyuPinyinOutputFormatCombination *) nil_chk(e)) printStackTrace];
  }
  return output;
}


#line 53
+ (NSString *)converterToFirstSpellWithNSString:(NSString *)chines {
  NSString *pinyinName = @"";
  IOSCharArray *nameChar = [((NSString *) nil_chk(chines)) toCharArray];
  ComFqLibPinyin4jHanyuPinyinOutputFormat *defaultFormat = [[ComFqLibPinyin4jHanyuPinyinOutputFormat alloc] init];
  [defaultFormat setCaseTypeWithComFqLibPinyin4jHanyuPinyinCaseType:ComFqLibPinyin4jHanyuPinyinCaseType_get_UPPERCASE_()];
  [defaultFormat setToneTypeWithComFqLibPinyin4jHanyuPinyinToneType:ComFqLibPinyin4jHanyuPinyinToneType_get_WITHOUT_TONE_()];
  for (int i = 0; i < (int) [((IOSCharArray *) nil_chk(nameChar)) count]; i++) {
    if (IOSCharArray_Get(nameChar, i) > 128) {
      @try {
        pinyinName = [NSString stringWithFormat:@"%@%C", pinyinName, [((NSString *) IOSObjectArray_Get(nil_chk([ComFqLibPinyin4jPinyinHelper toHanyuPinyinStringArrayWithChar:IOSCharArray_Get(
#line 63
        nameChar, i) withComFqLibPinyin4jHanyuPinyinOutputFormat:defaultFormat]), 0)) charAtWithInt:0]];
      }
      @catch (
#line 64
      ComFqLibPinyin4jBadHanyuPinyinOutputFormatCombination *e) {
        [((ComFqLibPinyin4jBadHanyuPinyinOutputFormatCombination *) nil_chk(e)) printStackTrace];
      }
    }
    else {
      
#line 68
      pinyinName = [NSString stringWithFormat:@"%@%C", pinyinName, IOSCharArray_Get(nameChar, i)];
    }
  }
  return pinyinName;
}

+ (NSString *)getFirstSpellWithNSString:(NSString *)chines {
  
#line 82
  NSString *pinyinName = @"";
  unichar firstChar = IOSCharArray_Get(nil_chk([((NSString *) nil_chk(chines)) toCharArray]), 0);
  ComFqLibPinyin4jHanyuPinyinOutputFormat *defaultFormat = [[ComFqLibPinyin4jHanyuPinyinOutputFormat alloc] init];
  [defaultFormat setCaseTypeWithComFqLibPinyin4jHanyuPinyinCaseType:ComFqLibPinyin4jHanyuPinyinCaseType_get_UPPERCASE_()];
  [defaultFormat setToneTypeWithComFqLibPinyin4jHanyuPinyinToneType:ComFqLibPinyin4jHanyuPinyinToneType_get_WITHOUT_TONE_()];
  
#line 88
  if (firstChar > 128) {
    @try {
      pinyinName = [((NSString *) IOSObjectArray_Get(nil_chk([ComFqLibPinyin4jPinyinHelper toHanyuPinyinStringArrayWithChar:firstChar withComFqLibPinyin4jHanyuPinyinOutputFormat:
#line 91
      defaultFormat]), 0)) substring:0 endIndex:1];
    }
    @catch (
#line 92
    ComFqLibPinyin4jBadHanyuPinyinOutputFormatCombination *e) {
      [((ComFqLibPinyin4jBadHanyuPinyinOutputFormatCombination *) nil_chk(e)) printStackTrace];
    }
  }
  else {
    
#line 96
    pinyinName = [NSString valueOfChar:firstChar];
  }
  return pinyinName;
}

- (id)init {
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "getPingYinWithNSString:", "getPingYin", "Ljava.lang.String;", 0x9, NULL },
    { "converterToFirstSpellWithNSString:", "converterToFirstSpell", "Ljava.lang.String;", 0x9, NULL },
    { "getFirstSpellWithNSString:", "getFirstSpell", "Ljava.lang.String;", 0x9, NULL },
    { "init", NULL, NULL, 0x1, NULL },
  };
  static J2ObjcClassInfo _ComFqLibChinesetSortHelper = { "ChinesetSortHelper", "com.fq.lib", NULL, 0x1, 4, methods, 0, NULL, 0, NULL};
  return &_ComFqLibChinesetSortHelper;
}

@end


#line 101
@implementation ComFqLibChinesetSortHelper_PinyinComparator


#line 102
- (int)compareWithId:(id)o1
              withId:(id)o2 {
  NSString *str1 = [ComFqLibChinesetSortHelper getPingYinWithNSString:(NSString *) check_class_cast(o1, [NSString class])];
  NSString *str2 = [ComFqLibChinesetSortHelper getPingYinWithNSString:(NSString *) check_class_cast(o2, [NSString class])];
  return [((NSString *) nil_chk(str1)) compareToWithId:str2];
}

- (id)init {
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "compareWithId:withId:", "compare", "I", 0x1, NULL },
    { "init", NULL, NULL, 0x1, NULL },
  };
  static J2ObjcClassInfo _ComFqLibChinesetSortHelper_PinyinComparator = { "PinyinComparator", "com.fq.lib", "ChinesetSortHelper", 0x9, 2, methods, 0, NULL, 0, NULL};
  return &_ComFqLibChinesetSortHelper_PinyinComparator;
}

@end
