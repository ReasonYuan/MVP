//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/liaomin/Documents/workspace/Android/DocPlusLogic/src/com/fq/halcyon/uilogic/SaveInfoUILogic.java
//
//  Created by liaomin on 15-5-4.
//

#line 1 "/Users/liaomin/Documents/workspace/Android/DocPlusLogic/src/com/fq/halcyon/uilogic/SaveInfoUILogic.java"

#include "Constants.h"
#include "FQLog.h"
#include "FileSystem.h"
#include "HttpHelper.h"
#include "HttpRequestPotocol.h"
#include "IOSClass.h"
#include "JSONObject.h"
#include "ResetDoctorInfoLogic.h"
#include "SaveInfoUILogic.h"
#include "UriConstants.h"
#include "User.h"
#include "java/lang/Throwable.h"


#line 13
@implementation ComFqHalcyonUilogicSaveInfoUILogic


#line 24
+ (void)saveInfoWithNSString:(NSString *)phoneNumber
                withNSString:(NSString *)password
                     withInt:(int)userId
  withComFqHalcyonEntityUser:(ComFqHalcyonEntityUser *)user {
  
#line 25
  [((ComFqHalcyonExtendFilesystemFileSystem *) nil_chk([ComFqHalcyonExtendFilesystemFileSystem getInstance])) saveLoginUserWithNSString:phoneNumber withNSString:password withInt:userId];
  
#line 27
  [((ComFqHalcyonExtendFilesystemFileSystem *) nil_chk([ComFqHalcyonExtendFilesystemFileSystem getInstance])) saveUserWithComFqHalcyonEntityUser:user];
}


#line 34
+ (void)saveUserLogicInfo {
  
#line 35
  ComFqHalcyonEntityUser *user = [ComFqLibToolsConstants getUser];
  [((ComFqHalcyonExtendFilesystemFileSystem *) nil_chk([ComFqHalcyonExtendFilesystemFileSystem getInstance])) saveLoginUserWithNSString:[((ComFqHalcyonEntityUser *) nil_chk(user)) getPhoneNumber] withNSString:[user getPassword] withInt:[user getUserId]];
}


#line 46
+ (void)saveInfoWithNSString:(NSString *)phone
                withNSString:(NSString *)password
                     withInt:(int)userId {
  
#line 47
  ComFqHalcyonExtendFilesystemFileSystem *fileSys = [ComFqHalcyonExtendFilesystemFileSystem getInstance];
  
#line 49
  [((ComFqHalcyonExtendFilesystemFileSystem *) nil_chk(fileSys)) saveLoginUserWithNSString:phone withNSString:password withInt:userId];
  
#line 51
  [fileSys saveCurrentUser];
}


#line 61
+ (void)saveInfoWithNSString:(NSString *)phoneNumber
                withNSString:(NSString *)password
  withComFqHalcyonEntityUser:(ComFqHalcyonEntityUser *)user {
  
#line 62
  [((ComFqHalcyonExtendFilesystemFileSystem *) nil_chk([ComFqHalcyonExtendFilesystemFileSystem getInstance])) saveLoginUserWithNSString:phoneNumber withNSString:password withInt:[((ComFqHalcyonEntityUser *) nil_chk(user)) getUserId]];
  [((ComFqHalcyonExtendFilesystemFileSystem *) nil_chk([ComFqHalcyonExtendFilesystemFileSystem getInstance])) saveUserWithComFqHalcyonEntityUser:user];
}


#line 66
- (void)uploadUserHeadPathWithNSString:(NSString *)path {
  
#line 68
  (void) [ComFqLibHttpHelper upLoadImageWithNSString:[NSString stringWithFormat:@"%@/pub/upload_images.do", ComFqLibToolsUriConstants_Conn_get_URL_PUB_()] withNSString:path withFQHttpResponseHandle:[[ComFqHalcyonUilogicSaveInfoUILogic_$1 alloc] init] withComFqHttpAsyncParamsWrapper_FQProcessInterface:
#line 85
  nil];
}

- (id)init {
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "saveInfoWithNSString:withNSString:withInt:withComFqHalcyonEntityUser:", "saveInfo", "V", 0x9, NULL },
    { "saveUserLogicInfo", NULL, "V", 0x9, NULL },
    { "saveInfoWithNSString:withNSString:withInt:", "saveInfo", "V", 0x9, NULL },
    { "saveInfoWithNSString:withNSString:withComFqHalcyonEntityUser:", "saveInfo", "V", 0x9, NULL },
    { "uploadUserHeadPathWithNSString:", "uploadUserHeadPath", "V", 0x1, NULL },
    { "init", NULL, NULL, 0x1, NULL },
  };
  static J2ObjcClassInfo _ComFqHalcyonUilogicSaveInfoUILogic = { "SaveInfoUILogic", "com.fq.halcyon.uilogic", NULL, 0x1, 6, methods, 0, NULL, 0, NULL};
  return &_ComFqHalcyonUilogicSaveInfoUILogic;
}

@end

@implementation ComFqHalcyonUilogicSaveInfoUILogic_$1


#line 70
- (void)onErrorWithInt:(int)code
 withJavaLangThrowable:(JavaLangThrowable *)e {
  
#line 71
  [ComFqLibToolsFQLog iWithNSString:@"sendHead" withNSString:[NSString stringWithFormat:@"~~send head falid: msg:%@", (e == nil ? @"" : [e getCause])]];
}


#line 74
- (void)handleWithInt:(int)responseCode
         withNSString:(NSString *)msg
              withInt:(int)type
               withId:(id)results {
  
#line 76
  FQJSONObject *obj = (FQJSONObject *) check_class_cast(results, [FQJSONObject class]);
  int id_ = [((FQJSONObject *) nil_chk(obj)) optIntWithNSString:@"image_id"];
  [((ComFqHalcyonEntityUser *) nil_chk([ComFqLibToolsConstants getUser])) setHeadPicPathWithNSString:[obj optStringWithNSString:@"uri"]];
  [((ComFqHalcyonEntityUser *) nil_chk([ComFqLibToolsConstants getUser])) setHeadPicImageIdWithInt:id_];
  [((ComFqHalcyonExtendFilesystemFileSystem *) nil_chk([ComFqHalcyonExtendFilesystemFileSystem getInstance])) saveCurrentUser];
  [((ComFqHalcyonLogic2ResetDoctorInfoLogic *) [[ComFqHalcyonLogic2ResetDoctorInfoLogic alloc] init]) reqModyHeadWithInt:id_];
  [ComFqLibToolsFQLog iWithNSString:@"sendHead" withNSString:[NSString stringWithFormat:@"~~send head success:%@", [((FQJSONObject *) nil_chk(((FQJSONObject *) check_class_cast(results, [FQJSONObject class])))) description]]];
}

- (id)init {
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "onErrorWithInt:withJavaLangThrowable:", "onError", "V", 0x1, NULL },
    { "handleWithInt:withNSString:withInt:withId:", "handle", "V", 0x1, NULL },
    { "init", NULL, NULL, 0x0, NULL },
  };
  static J2ObjcClassInfo _ComFqHalcyonUilogicSaveInfoUILogic_$1 = { "$1", "com.fq.halcyon.uilogic", "SaveInfoUILogic", 0x8000, 3, methods, 0, NULL, 0, NULL};
  return &_ComFqHalcyonUilogicSaveInfoUILogic_$1;
}

@end
