//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/liaomin/Documents/workspace/Android/DocPlusLogic/src/com/fq/lib/HttpHelper.java
//
//  Created by liaomin on 15-5-4.
//

#line 1 "/Users/liaomin/Documents/workspace/Android/DocPlusLogic/src/com/fq/lib/HttpHelper.java"

#include "FQHttpParams.h"
#include "FQHttpResponseHandle.h"
#include "HalcyonHttpResponseHandle.h"
#include "HttpClientPotocol.h"
#include "HttpHelper.h"
#include "HttpRequestPotocol.h"
#include "ICallback.h"
#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "ParamsWrapper.h"
#include "java/io/File.h"
#include "java/io/FileNotFoundException.h"
#include "java/io/FileOutputStream.h"
#include "java/io/IOException.h"
#include "java/lang/Throwable.h"


#line 18
@implementation ComFqLibHttpHelper

ComFqHttpPotocolHttpClientPotocol * ComFqLibHttpHelper_mClient_;

+ (void)setHttpClientWithComFqHttpPotocolHttpClientPotocol:(ComFqHttpPotocolHttpClientPotocol *)client {
  
#line 23
  ComFqLibHttpHelper_mClient_ = client;
}


#line 26
+ (id<ComFqHttpPotocolHttpRequestPotocol>)sendGetRequestWithNSString:(NSString *)url
                                            withFQHttpResponseHandle:(id<FQHttpResponseHandle>)handle {
  
#line 27
  return [((ComFqHttpPotocolHttpClientPotocol *) nil_chk(ComFqLibHttpHelper_mClient_)) sendGetRequestWithNSString:url withFQHttpResponseHandle:handle];
}


#line 30
+ (id<ComFqHttpPotocolHttpRequestPotocol>)sendGetRequestWithNSString:(NSString *)url
                                      withComFqHttpAsyncFQHttpParams:(ComFqHttpAsyncFQHttpParams *)params
                                            withFQHttpResponseHandle:(id<FQHttpResponseHandle>)handle {
  
#line 31
  return [((ComFqHttpPotocolHttpClientPotocol *) nil_chk(ComFqLibHttpHelper_mClient_)) sendGetRequestWithNSString:url withComFqHttpAsyncParamsWrapper:params withFQHttpResponseHandle:handle];
}


#line 34
+ (id<ComFqHttpPotocolHttpRequestPotocol>)sendPostRequestWithNSString:(NSString *)url
                                             withFQHttpResponseHandle:(id<FQHttpResponseHandle>)handle {
  
#line 35
  return [((ComFqHttpPotocolHttpClientPotocol *) nil_chk(ComFqLibHttpHelper_mClient_)) sendPostRequestWithNSString:url withFQHttpResponseHandle:handle];
}


#line 38
+ (id<ComFqHttpPotocolHttpRequestPotocol>)sendPostRequestWithNSString:(NSString *)url
                                       withComFqHttpAsyncFQHttpParams:(ComFqHttpAsyncFQHttpParams *)params
                                             withFQHttpResponseHandle:(id<FQHttpResponseHandle>)handle {
  
#line 39
  return [((ComFqHttpPotocolHttpClientPotocol *) nil_chk(ComFqLibHttpHelper_mClient_)) sendPostRequestWithNSString:url withComFqHttpAsyncParamsWrapper:params withFQHttpResponseHandle:handle];
}


#line 51
+ (id<ComFqHttpPotocolHttpRequestPotocol>)upLoadImageWithNSString:(NSString *)url
                                                     withNSString:(NSString *)key
                                                     withNSString:(NSString *)fielPath
                                         withFQHttpResponseHandle:(id<FQHttpResponseHandle>)handle
               withComFqHttpAsyncParamsWrapper_FQProcessInterface:(id<ComFqHttpAsyncParamsWrapper_FQProcessInterface>)process {
  
#line 52
  ComFqHttpAsyncParamsWrapper *params = [[ComFqHttpAsyncParamsWrapper alloc] init];
  [params setTimeoutTimeWithInt:60000];
  JavaIoFile *file = [[JavaIoFile alloc] initWithNSString:fielPath];
  if (![file exists]) return nil;
  @try {
    [params putWithNSString:key withJavaIoFile:file];
  }
  @catch (
#line 58
  JavaIoFileNotFoundException *e) {
    [((JavaIoFileNotFoundException *) nil_chk(e)) printStackTrace];
  }
  if (process != nil) {
    [params setUpLoadProcessWithComFqHttpAsyncParamsWrapper_FQProcessInterface:process];
  }
  return [((ComFqHttpPotocolHttpClientPotocol *) nil_chk(ComFqLibHttpHelper_mClient_)) sendPostRequestWithNSString:url withComFqHttpAsyncParamsWrapper:params withFQHttpResponseHandle:handle];
}


#line 67
+ (id<ComFqHttpPotocolHttpRequestPotocol>)upLoadImageWithNSString:(NSString *)url
                                                     withNSString:(NSString *)fielPath
                                         withFQHttpResponseHandle:(id<FQHttpResponseHandle>)handle {
  
#line 68
  return [ComFqLibHttpHelper upLoadImageWithNSString:url withNSString:@"file" withNSString:fielPath withFQHttpResponseHandle:handle withComFqHttpAsyncParamsWrapper_FQProcessInterface:nil];
}


#line 71
+ (id<ComFqHttpPotocolHttpRequestPotocol>)upLoadImageWithNSString:(NSString *)url
                                                     withNSString:(NSString *)fielPath
                                         withFQHttpResponseHandle:(id<FQHttpResponseHandle>)handle
               withComFqHttpAsyncParamsWrapper_FQProcessInterface:(id<ComFqHttpAsyncParamsWrapper_FQProcessInterface>)process {
  
#line 72
  return [ComFqLibHttpHelper upLoadImageWithNSString:url withNSString:@"file" withNSString:fielPath withFQHttpResponseHandle:handle withComFqHttpAsyncParamsWrapper_FQProcessInterface:process];
}


#line 86
+ (id<ComFqHttpPotocolHttpRequestPotocol>)sendGetRequestWithNSString:(NSString *)url
                                      withComFqHttpAsyncFQHttpParams:(ComFqHttpAsyncFQHttpParams *)params
                                                         withBoolean:(BOOL)loadCache
                                                        withNSString:(NSString *)path
                                       withHalcyonHttpResponseHandle:(HalcyonHttpResponseHandle *)handle {
  
#line 87
  return [((ComFqHttpPotocolHttpClientPotocol *) nil_chk(ComFqLibHttpHelper_mClient_)) sendGetRequestWithNSString:url withComFqHttpAsyncParamsWrapper:params withFQHttpResponseHandle:handle];
}


#line 101
+ (id<ComFqHttpPotocolHttpRequestPotocol>)sendPostRequestWithNSString:(NSString *)url
                                       withComFqHttpAsyncFQHttpParams:(ComFqHttpAsyncFQHttpParams *)params
                                                          withBoolean:(BOOL)loadCache
                                                         withNSString:(NSString *)path
                                        withHalcyonHttpResponseHandle:(HalcyonHttpResponseHandle *)handle {
  
#line 102
  return [((ComFqHttpPotocolHttpClientPotocol *) nil_chk(ComFqLibHttpHelper_mClient_)) sendPostRequestWithNSString:url withComFqHttpAsyncParamsWrapper:params withFQHttpResponseHandle:handle];
}


#line 115
+ (id<ComFqHttpPotocolHttpRequestPotocol>)sendPostRequestWithNSString:(NSString *)url
                                                          withBoolean:(BOOL)loadCache
                                                         withNSString:(NSString *)path
                                        withHalcyonHttpResponseHandle:(HalcyonHttpResponseHandle *)handle {
  
#line 116
  return [((ComFqHttpPotocolHttpClientPotocol *) nil_chk(ComFqLibHttpHelper_mClient_)) sendPostRequestWithNSString:url withFQHttpResponseHandle:handle];
}


#line 131
+ (id<ComFqHttpPotocolHttpRequestPotocol>)sendGetRequestWithNSString:(NSString *)url
                                      withComFqHttpAsyncFQHttpParams:(ComFqHttpAsyncFQHttpParams *)params
                                                         withBoolean:(BOOL)loadCache
                                                        withNSString:(NSString *)path
                                                        withNSString:(NSString *)unique
                                       withHalcyonHttpResponseHandle:(HalcyonHttpResponseHandle *)handle {
  
#line 132
  return [((ComFqHttpPotocolHttpClientPotocol *) nil_chk(ComFqLibHttpHelper_mClient_)) sendGetRequestWithNSString:url withComFqHttpAsyncParamsWrapper:params withFQHttpResponseHandle:handle];
}


#line 148
+ (id<ComFqHttpPotocolHttpRequestPotocol>)sendPostRequestWithNSString:(NSString *)url
                                       withComFqHttpAsyncFQHttpParams:(ComFqHttpAsyncFQHttpParams *)params
                                                          withBoolean:(BOOL)loadCache
                                                         withNSString:(NSString *)path
                                                         withNSString:(NSString *)unique
                                        withHalcyonHttpResponseHandle:(HalcyonHttpResponseHandle *)handle {
  
#line 149
  return [((ComFqHttpPotocolHttpClientPotocol *) nil_chk(ComFqLibHttpHelper_mClient_)) sendPostRequestWithNSString:url withComFqHttpAsyncParamsWrapper:params withFQHttpResponseHandle:handle];
}


#line 157
+ (void)sendGetRequestImageWithNSString:(NSString *)mImageUrl
                           withNSString:(NSString *)path
          withComFqLibCallbackICallback:(id<ComFqLibCallbackICallback>)callback {
  
#line 158
  int indexEnd = [((NSString *) nil_chk(mImageUrl)) lastIndexOf:'?'];
  int indexStart = [mImageUrl lastIndexOf:'/'] + 1;
  NSString *mImageName = [mImageUrl substring:indexStart endIndex:indexEnd];
  JavaIoFile *mFile = [[JavaIoFile alloc] initWithNSString:path];
  if (![mFile exists]) {
    [mFile mkdirs];
  }
  JavaIoFile *mImage = [[JavaIoFile alloc] initWithNSString:[NSString stringWithFormat:@"%@/%@", path, mImageName]];
  if (![mImage exists]) {
    @try {
      [mImage createNewFile];
      (void) [((ComFqHttpPotocolHttpClientPotocol *) nil_chk(ComFqLibHttpHelper_mClient_)) sendGetRequestWithNSString:mImageUrl withFQHttpResponseHandle:[[ComFqLibHttpHelper_$1 alloc] initWithJavaIoFile:mImage withComFqLibCallbackICallback:callback]];
    }
    @catch (
#line 201
    JavaIoIOException *e) {
      [((JavaIoIOException *) nil_chk(e)) printStackTrace];
    }
  }
}

- (id)init {
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "setHttpClientWithComFqHttpPotocolHttpClientPotocol:", "setHttpClient", "V", 0x9, NULL },
    { "sendGetRequestWithNSString:withFQHttpResponseHandle:", "sendGetRequest", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x9, NULL },
    { "sendGetRequestWithNSString:withComFqHttpAsyncFQHttpParams:withFQHttpResponseHandle:", "sendGetRequest", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x9, NULL },
    { "sendPostRequestWithNSString:withFQHttpResponseHandle:", "sendPostRequest", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x9, NULL },
    { "sendPostRequestWithNSString:withComFqHttpAsyncFQHttpParams:withFQHttpResponseHandle:", "sendPostRequest", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x9, NULL },
    { "upLoadImageWithNSString:withNSString:withNSString:withFQHttpResponseHandle:withComFqHttpAsyncParamsWrapper_FQProcessInterface:", "upLoadImage", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x9, NULL },
    { "upLoadImageWithNSString:withNSString:withFQHttpResponseHandle:", "upLoadImage", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x9, NULL },
    { "upLoadImageWithNSString:withNSString:withFQHttpResponseHandle:withComFqHttpAsyncParamsWrapper_FQProcessInterface:", "upLoadImage", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x9, NULL },
    { "sendGetRequestWithNSString:withComFqHttpAsyncFQHttpParams:withBoolean:withNSString:withHalcyonHttpResponseHandle:", "sendGetRequest", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x9, NULL },
    { "sendPostRequestWithNSString:withComFqHttpAsyncFQHttpParams:withBoolean:withNSString:withHalcyonHttpResponseHandle:", "sendPostRequest", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x9, NULL },
    { "sendPostRequestWithNSString:withBoolean:withNSString:withHalcyonHttpResponseHandle:", "sendPostRequest", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x9, NULL },
    { "sendGetRequestWithNSString:withComFqHttpAsyncFQHttpParams:withBoolean:withNSString:withNSString:withHalcyonHttpResponseHandle:", "sendGetRequest", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x9, NULL },
    { "sendPostRequestWithNSString:withComFqHttpAsyncFQHttpParams:withBoolean:withNSString:withNSString:withHalcyonHttpResponseHandle:", "sendPostRequest", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x9, NULL },
    { "sendGetRequestImageWithNSString:withNSString:withComFqLibCallbackICallback:", "sendGetRequestImage", "V", 0x9, NULL },
    { "init", NULL, NULL, 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "mClient_", NULL, 0xa, "Lcom.fq.http.potocol.HttpClientPotocol;", &ComFqLibHttpHelper_mClient_,  },
  };
  static J2ObjcClassInfo _ComFqLibHttpHelper = { "HttpHelper", "com.fq.lib", NULL, 0x1, 15, methods, 1, fields, 0, NULL};
  return &_ComFqLibHttpHelper;
}

@end

@implementation ComFqLibHttpHelper_$1


#line 171
- (void)onErrorWithInt:(int)code
 withJavaLangThrowable:(JavaLangThrowable *)error {
}

- (void)handleBinaryDataWithByteArray:(IOSByteArray *)data {
  
#line 178
  JavaIoFileOutputStream *mFileOutputStream = nil;
  @try {
    mFileOutputStream = [[JavaIoFileOutputStream alloc] initWithJavaIoFile:val$mImage_];
    @try {
      [mFileOutputStream writeWithByteArray:data];
      [mFileOutputStream flush];
    }
    @catch (
#line 184
    JavaIoIOException *e) {
      [((JavaIoIOException *) nil_chk(e)) printStackTrace];
    }
  }
  @catch (
#line 187
  JavaIoFileNotFoundException *e) {
    [((JavaIoFileNotFoundException *) nil_chk(e)) printStackTrace];
  }
  @finally {
    
#line 190
    if (mFileOutputStream != nil) {
      @try {
        [mFileOutputStream close];
      }
      @catch (
#line 193
      JavaIoIOException *e) {
        [((JavaIoIOException *) nil_chk(e)) printStackTrace];
      }
    }
  }
  [((id<ComFqLibCallbackICallback>) nil_chk(val$callback_)) doCallbackWithId:nil];
}

- (id)initWithJavaIoFile:(JavaIoFile *)capture$0
withComFqLibCallbackICallback:(id<ComFqLibCallbackICallback>)capture$1 {
  val$mImage_ = capture$0;
  val$callback_ = capture$1;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "onErrorWithInt:withJavaLangThrowable:", "onError", "V", 0x1, NULL },
    { "handleBinaryDataWithByteArray:", "handleBinaryData", "V", 0x1, NULL },
    { "initWithJavaIoFile:withComFqLibCallbackICallback:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "val$mImage_", NULL, 0x1012, "Ljava.io.File;", NULL,  },
    { "val$callback_", NULL, 0x1012, "Lcom.fq.lib.callback.ICallback;", NULL,  },
  };
  static J2ObjcClassInfo _ComFqLibHttpHelper_$1 = { "$1", "com.fq.lib", "HttpHelper", 0x8000, 3, methods, 2, fields, 0, NULL};
  return &_ComFqLibHttpHelper_$1;
}

@end
