//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/liaomin/Documents/workspace/Android/DocPlusLogic/src/com/fq/lib/pinyin4j/ChineseToPinyinResource.java
//
//  Created by liaomin on 15-5-4.
//

#line 1 "/Users/liaomin/Documents/workspace/Android/DocPlusLogic/src/com/fq/lib/pinyin4j/ChineseToPinyinResource.java"

#include "ChineseToPinyinResource.h"
#include "IOSObjectArray.h"
#include "ResourceHelper.h"
#include "java/io/BufferedInputStream.h"
#include "java/io/FileNotFoundException.h"
#include "java/io/IOException.h"
#include "java/lang/Integer.h"
#include "java/util/Properties.h"


#line 34
@implementation ComFqLibPinyin4jChineseToPinyinResource


#line 45
- (void)setUnicodeToHanyuPinyinTableWithJavaUtilProperties:(JavaUtilProperties *)unicodeToHanyuPinyinTable {
  
#line 48
  self->unicodeToHanyuPinyinTable_ = unicodeToHanyuPinyinTable;
}


#line 54
- (JavaUtilProperties *)getUnicodeToHanyuPinyinTable {
  
#line 56
  return unicodeToHanyuPinyinTable_;
}


#line 62
- (id)init {
  if (self = [super init]) {
    unicodeToHanyuPinyinTable_ =
#line 39
    nil;
    
#line 64
    [self initializeResource];
  }
  return self;
}


#line 70
- (void)initializeResource {
  
#line 72
  @try {
    
#line 75
    NSString *resourceName = @"unicode_to_hanyu_pinyin.txt";
    
#line 77
    [self setUnicodeToHanyuPinyinTableWithJavaUtilProperties:[[JavaUtilProperties alloc] init]];
    [((JavaUtilProperties *) nil_chk([self getUnicodeToHanyuPinyinTable])) load__WithJavaIoInputStream:[ComFqLibPinyin4jResourceHelper getResourceInputStreamWithNSString:resourceName]];
  }
  @catch (JavaIoFileNotFoundException *ex) {
    
#line 82
    [((JavaIoFileNotFoundException *) nil_chk(ex)) printStackTrace];
  }
  @catch (
#line 83
  JavaIoIOException *ex) {
    
#line 85
    [((JavaIoIOException *) nil_chk(ex)) printStackTrace];
  }
}


#line 98
- (IOSObjectArray *)getHanyuPinyinStringArrayWithChar:(unichar)ch {
  
#line 100
  NSString *pinyinRecord = [self getHanyuPinyinRecordFromCharWithChar:ch];
  
#line 102
  if (nil != pinyinRecord) {
    
#line 104
    int indexOfLeftBracket = [pinyinRecord indexOfString:ComFqLibPinyin4jChineseToPinyinResource_Field_get_LEFT_BRACKET_()];
    int indexOfRightBracket = [pinyinRecord lastIndexOfString:ComFqLibPinyin4jChineseToPinyinResource_Field_get_RIGHT_BRACKET_()];
    
#line 107
    NSString *stripedString = [pinyinRecord substring:indexOfLeftBracket +
#line 108
    ((int) [((NSString *) nil_chk(ComFqLibPinyin4jChineseToPinyinResource_Field_get_LEFT_BRACKET_())) length]) endIndex:indexOfRightBracket];
    
#line 110
    return [((NSString *) nil_chk(stripedString)) split:ComFqLibPinyin4jChineseToPinyinResource_Field_get_COMMA_()];
  }
  else
#line 113
  return nil;
}


#line 122
- (BOOL)isValidRecordWithNSString:(NSString *)record {
  
#line 124
  NSString *noneStr = @"(none0)";
  
#line 126
  if ((nil != record) && ![record isEqual:noneStr] &&
#line 127
  [record hasPrefix:ComFqLibPinyin4jChineseToPinyinResource_Field_get_LEFT_BRACKET_()] &&
#line 128
  [record hasSuffix:ComFqLibPinyin4jChineseToPinyinResource_Field_get_RIGHT_BRACKET_()]) {
    
#line 130
    return YES;
  }
  else return NO;
}


#line 141
- (NSString *)getHanyuPinyinRecordFromCharWithChar:(unichar)ch {
  
#line 146
  int codePointOfChar = ch;
  
#line 148
  NSString *codepointHexStr = [((NSString *) nil_chk([JavaLangInteger toHexStringWithInt:codePointOfChar])) uppercaseString];
  
#line 151
  NSString *foundRecord = [((JavaUtilProperties *) nil_chk([self getUnicodeToHanyuPinyinTable])) getPropertyWithNSString:codepointHexStr];
  
#line 153
  return [self isValidRecordWithNSString:foundRecord] ? foundRecord : nil;
}


#line 161
+ (ComFqLibPinyin4jChineseToPinyinResource *)getInstance {
  
#line 163
  return ComFqLibPinyin4jChineseToPinyinResource_ChineseToPinyinResourceHolder_get_theInstance_();
}

- (void)copyAllFieldsTo:(ComFqLibPinyin4jChineseToPinyinResource *)other {
  [super copyAllFieldsTo:other];
  other->unicodeToHanyuPinyinTable_ = unicodeToHanyuPinyinTable_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "setUnicodeToHanyuPinyinTableWithJavaUtilProperties:", "setUnicodeToHanyuPinyinTable", "V", 0x2, NULL },
    { "getUnicodeToHanyuPinyinTable", NULL, "Ljava.util.Properties;", 0x2, NULL },
    { "init", "ChineseToPinyinResource", NULL, 0x2, NULL },
    { "initializeResource", NULL, "V", 0x2, NULL },
    { "getHanyuPinyinStringArrayWithChar:", "getHanyuPinyinStringArray", "[Ljava.lang.String;", 0x0, NULL },
    { "isValidRecordWithNSString:", "isValidRecord", "Z", 0x2, NULL },
    { "getHanyuPinyinRecordFromCharWithChar:", "getHanyuPinyinRecordFromChar", "Ljava.lang.String;", 0x2, NULL },
    { "getInstance", NULL, "Lcom.fq.lib.pinyin4j.ChineseToPinyinResource;", 0x8, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "unicodeToHanyuPinyinTable_", NULL, 0x2, "Ljava.util.Properties;", NULL,  },
  };
  static J2ObjcClassInfo _ComFqLibPinyin4jChineseToPinyinResource = { "ChineseToPinyinResource", "com.fq.lib.pinyin4j", NULL, 0x0, 8, methods, 1, fields, 0, NULL};
  return &_ComFqLibPinyin4jChineseToPinyinResource;
}

@end

BOOL ComFqLibPinyin4jChineseToPinyinResource_ChineseToPinyinResourceHolder_initialized = NO;


#line 169
@implementation ComFqLibPinyin4jChineseToPinyinResource_ChineseToPinyinResourceHolder

ComFqLibPinyin4jChineseToPinyinResource * ComFqLibPinyin4jChineseToPinyinResource_ChineseToPinyinResourceHolder_theInstance_;

- (id)init {
  return [super init];
}

+ (void)initialize {
  if (self == [ComFqLibPinyin4jChineseToPinyinResource_ChineseToPinyinResourceHolder class]) {
    ComFqLibPinyin4jChineseToPinyinResource_ChineseToPinyinResourceHolder_theInstance_ =
#line 171
    [[ComFqLibPinyin4jChineseToPinyinResource alloc] init];
    ComFqLibPinyin4jChineseToPinyinResource_ChineseToPinyinResourceHolder_initialized = YES;
  }
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "init", NULL, NULL, 0x2, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "theInstance_", NULL, 0x18, "Lcom.fq.lib.pinyin4j.ChineseToPinyinResource;", &ComFqLibPinyin4jChineseToPinyinResource_ChineseToPinyinResourceHolder_theInstance_,  },
  };
  static J2ObjcClassInfo _ComFqLibPinyin4jChineseToPinyinResource_ChineseToPinyinResourceHolder = { "ChineseToPinyinResourceHolder", "com.fq.lib.pinyin4j", "ChineseToPinyinResource", 0xa, 1, methods, 1, fields, 0, NULL};
  return &_ComFqLibPinyin4jChineseToPinyinResource_ChineseToPinyinResourceHolder;
}

@end


#line 179
@implementation ComFqLibPinyin4jChineseToPinyinResource_Field

NSString * ComFqLibPinyin4jChineseToPinyinResource_Field_LEFT_BRACKET_ = @"(";
NSString * ComFqLibPinyin4jChineseToPinyinResource_Field_RIGHT_BRACKET_ = 
#line 183
@")";
NSString * ComFqLibPinyin4jChineseToPinyinResource_Field_COMMA_ = @",";

- (id)initWithComFqLibPinyin4jChineseToPinyinResource:(ComFqLibPinyin4jChineseToPinyinResource *)outer$ {
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "initWithComFqLibPinyin4jChineseToPinyinResource:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "LEFT_BRACKET_", NULL, 0x18, "Ljava.lang.String;", &ComFqLibPinyin4jChineseToPinyinResource_Field_LEFT_BRACKET_,  },
    { "RIGHT_BRACKET_", NULL, 0x18, "Ljava.lang.String;", &ComFqLibPinyin4jChineseToPinyinResource_Field_RIGHT_BRACKET_,  },
    { "COMMA_", NULL, 0x18, "Ljava.lang.String;", &ComFqLibPinyin4jChineseToPinyinResource_Field_COMMA_,  },
  };
  static J2ObjcClassInfo _ComFqLibPinyin4jChineseToPinyinResource_Field = { "Field", "com.fq.lib.pinyin4j", "ChineseToPinyinResource", 0x0, 1, methods, 3, fields, 0, NULL};
  return &_ComFqLibPinyin4jChineseToPinyinResource_Field;
}

@end
