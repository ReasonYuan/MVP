//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/liaomin/Documents/workspace/Android/DocPlusLogic/src/com/fq/halcyon/api/ApiSystem.java
//
//  Created by liaomin on 15-5-4.
//

#line 1 "/Users/liaomin/Documents/workspace/Android/DocPlusLogic/src/com/fq/halcyon/api/ApiSystem.java"

#include "ApiSystem.h"
#include "FQBinaryResponseHandle.h"
#include "FQHttpParams.h"
#include "FileSystem.h"
#include "HalcyonHttpResponseHandle.h"
#include "HalyconOnLineHandle.h"
#include "HttpHelper.h"
#include "HttpRequestPotocol.h"
#include "ICallback.h"
#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "JSONObject.h"
#include "Photo.h"
#include "PhotoRecord.h"
#include "Platform.h"
#include "UriConstants.h"
#include "java/io/File.h"
#include "java/io/FileNotFoundException.h"
#include "java/io/FileOutputStream.h"
#include "java/io/IOException.h"
#include "java/lang/Boolean.h"
#include "java/lang/Deprecated.h"
#include "java/lang/Exception.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Throwable.h"
#include "java/util/ArrayList.h"
#include "java/util/HashMap.h"


#line 27
@implementation ComFqHalcyonApiApiSystem

ComFqHalcyonApiApiSystem * ComFqHalcyonApiApiSystem_instance_;


#line 63
- (void)setNotifyWithComFqHalcyonApiApiSystem_NotifyOk:(id<ComFqHalcyonApiApiSystem_NotifyOk>)mNotify {
  
#line 64
  self->mNotify_ = mNotify;
}


#line 67
- (void)onDataSet {
  
#line 68
  if (mNotify_ != nil) {
    [mNotify_ onImageSeted];
  }
}


#line 73
+ (ComFqHalcyonApiApiSystem *)getInstance {
  
#line 74
  if (ComFqHalcyonApiApiSystem_instance_ == nil) {
    ComFqHalcyonApiApiSystem_instance_ = [[ComFqHalcyonApiApiSystem alloc] init];
  }
  return ComFqHalcyonApiApiSystem_instance_;
}


#line 80
- (id)init {
  if (self = [super init]) {
    mCurrnetDownUrls_ =
#line 128
    [[JavaUtilHashMap alloc] init];
    handles_ = [[JavaUtilArrayList alloc] init];
  }
  return self;
}


#line 84
- (id<ComFqHttpPotocolHttpRequestPotocol>)requireWithNSString:(NSString *)url
                    withComFqHalcyonApiApiSystem_API_TYPEEnum:(ComFqHalcyonApiApiSystem_API_TYPEEnum *)type
                                withHalcyonHttpResponseHandle:(HalcyonHttpResponseHandle *)handle {
  
#line 85
  return [self requireWithNSString:url withComFqHttpAsyncFQHttpParams:nil withComFqHalcyonApiApiSystem_API_TYPEEnum:type withHalcyonHttpResponseHandle:handle];
}


#line 88
- (id<ComFqHttpPotocolHttpRequestPotocol>)requireWithNSString:(NSString *)url
                               withComFqHttpAsyncFQHttpParams:(ComFqHttpAsyncFQHttpParams *)params
                    withComFqHalcyonApiApiSystem_API_TYPEEnum:(ComFqHalcyonApiApiSystem_API_TYPEEnum *)type
                                withHalcyonHttpResponseHandle:(HalcyonHttpResponseHandle *)handle {
  
#line 89
  if (type == ComFqHalcyonApiApiSystem_API_TYPEEnum_get_ONLINE() && !([handle isKindOfClass:[ComFqHalcyonHalyconOnLineHandle class]])) {
    [((HalcyonHttpResponseHandle *) nil_chk(handle)) onErrorWithInt:0 withJavaLangThrowable:[[JavaLangIllegalArgumentException alloc] initWithNSString:@"handle must be HalyconOnLineHandle for ONLINE type"]];
    return nil;
  }
  if (type == ComFqHalcyonApiApiSystem_API_TYPEEnum_get_OFFLINE()) {
    
#line 95
    return nil;
  }
  else
#line 96
  if (type == ComFqHalcyonApiApiSystem_API_TYPEEnum_get_DIRECT()) {
    return [ComFqLibHttpHelper sendPostRequestWithNSString:url withComFqHttpAsyncFQHttpParams:params withFQHttpResponseHandle:handle];
  }
  else {
    
#line 99
    [((JavaUtilArrayList *) nil_chk(handles_)) addWithId:handle];
    return [ComFqLibHttpHelper sendPostRequestWithNSString:url withComFqHttpAsyncFQHttpParams:params withFQHttpResponseHandle:[[ComFqHalcyonApiApiSystem_$1 alloc] initWithComFqHalcyonApiApiSystem:self withNSString:url withComFqHttpAsyncFQHttpParams:params withComFqHalcyonApiApiSystem_API_TYPEEnum:type withHalcyonHttpResponseHandle:handle]];
  }
}


#line 137
- (void)getImageWithComFqHalcyonEntityPhoto:(ComFqHalcyonEntityPhoto *)photo
              withComFqLibCallbackICallback:(id<ComFqLibCallbackICallback>)callback
                                withBoolean:(BOOL)thumbnail {
  
#line 138
  NSString *localPath = [NSString stringWithFormat:@"%@%d", [((ComFqHalcyonExtendFilesystemFileSystem *) nil_chk([ComFqHalcyonExtendFilesystemFileSystem getInstance])) getRecordImgPath], [((ComFqHalcyonEntityPhoto *) nil_chk(photo)) getImageId]];
  JavaIoFile *localFile = [[JavaIoFile alloc] initWithNSString:thumbnail ? [NSString stringWithFormat:@"%@.thumbnail", localPath] : [NSString stringWithFormat:@"%@%@", localPath, ComFqHalcyonExtendFilesystemFileSystem_get_RED_IMG_FT_()]];
  if ([localFile exists]) {
    [((id<ComFqLibCallbackICallback>) nil_chk(callback)) doCallbackWithId:[localFile getAbsolutePath]];
  }
  else {
    
#line 143
    NSString *URL = [ComFqLibToolsUriConstants getImageURL];
    FQJSONObject *jsonParams = [[FQJSONObject alloc] init];
    @try {
      (void) [jsonParams putWithNSString:@"image_id" withInt:[photo getImageId] == 0 ? 20253 : [photo getImageId]];
      if (ComFqLibToolsUriConstants_Conn_PRODUCTION_ENVIRONMENT) {
        (void) [jsonParams putWithNSString:@"style" withId:thumbnail ? @"@!thumbnail001" : @""];
      }
    }
    @catch (
#line 150
    JavaLangException *e) {
    }
    ComFqHttpAsyncFQHttpParams *params = [[ComFqHttpAsyncFQHttpParams alloc] initWithFQJSONObject:jsonParams];
    NSString *fullUrl = [NSString stringWithFormat:@"%@?image_id=%d&thumbnail=%@", URL, [photo getImageId], [JavaLangBoolean toStringWithBoolean:thumbnail]];
    JavaIoFile *file = [[JavaIoFile alloc] initWithNSString:[((ComFqHalcyonExtendFilesystemFileSystem *) nil_chk([ComFqHalcyonExtendFilesystemFileSystem getInstance])) getRecordImgPath]];
    if (![file exists]) [file mkdirs];
    if ([((JavaUtilHashMap *) nil_chk(mCurrnetDownUrls_)) getWithId:fullUrl] != nil) {
      (void) [mCurrnetDownUrls_ putWithId:fullUrl withId:callback];
      return;
    }
    (void) [mCurrnetDownUrls_ putWithId:fullUrl withId:callback];
    (void) [ComFqLibHttpHelper sendPostRequestWithNSString:URL withComFqHttpAsyncFQHttpParams:params withFQHttpResponseHandle:[self getImgaeHandelWithJavaIoFile:localFile withNSString:fullUrl]];
  }
}


#line 172
- (void)getHeadImageWithComFqHalcyonEntityPhoto:(ComFqHalcyonEntityPhoto *)photo
                  withComFqLibCallbackICallback:(id<ComFqLibCallbackICallback>)callback
                                    withBoolean:(BOOL)thumbnail
                                        withInt:(int)Type {
  
#line 173
  NSString *localPath = @"";
  switch (Type) {
    case 1:
    localPath = [((ComFqHalcyonExtendFilesystemFileSystem *) nil_chk([ComFqHalcyonExtendFilesystemFileSystem getInstance])) getUserHeadPath];
    break;
    case 2:
    localPath = [((ComFqHalcyonExtendFilesystemFileSystem *) nil_chk([ComFqHalcyonExtendFilesystemFileSystem getInstance])) getFriendPathWithImageIdWithInt:[((ComFqHalcyonEntityPhoto *) nil_chk(photo)) getImageId] == 0 ? 20253 : [photo getImageId]];
    break;
    case 3:
    localPath = [NSString stringWithFormat:@"%@%d", [((ComFqHalcyonExtendFilesystemFileSystem *) nil_chk([ComFqHalcyonExtendFilesystemFileSystem getInstance])) getRecordImgPath], [((ComFqHalcyonEntityPhoto *) nil_chk(photo)) getImageId]];
    break;
    case 4:
    localPath = [((ComFqHalcyonExtendFilesystemFileSystem *) nil_chk([ComFqHalcyonExtendFilesystemFileSystem getInstance])) getAuthImgPathByTypeWithInt:1];
    default:
    break;
  }
  
#line 190
  JavaIoFile *localFile = [[JavaIoFile alloc] initWithNSString:thumbnail ? [NSString stringWithFormat:@"%@.thumbnail", localPath] : localPath];
  JavaIoFile *parentFile = [localFile getParentFile];
  if (parentFile != nil) {
    if (![parentFile exists]) {
      [parentFile mkdirs];
    }
  }
  
#line 198
  if ([localFile exists]) {
    [((id<ComFqLibCallbackICallback>) nil_chk(callback)) doCallbackWithId:[localFile getAbsolutePath]];
  }
  else {
    
#line 201
    NSString *URL = [ComFqLibToolsUriConstants getImageURL];
    FQJSONObject *jsonParams = [[FQJSONObject alloc] init];
    @try {
      (void) [jsonParams putWithNSString:@"image_id" withInt:[((ComFqHalcyonEntityPhoto *) nil_chk(photo)) getImageId] == 0 ? 20253 : [photo getImageId]];
    }
    @catch (JavaLangException *e) {
    }
    ComFqHttpAsyncFQHttpParams *params = [[ComFqHttpAsyncFQHttpParams alloc] initWithFQJSONObject:jsonParams];
    NSString *fullUrl = [NSString stringWithFormat:@"%@?image_id=%d&thumbnail=%@", URL, [((ComFqHalcyonEntityPhoto *) nil_chk(photo)) getImageId], [JavaLangBoolean toStringWithBoolean:thumbnail]];
    if ([((JavaUtilHashMap *) nil_chk(mCurrnetDownUrls_)) getWithId:fullUrl] != nil) {
      (void) [mCurrnetDownUrls_ putWithId:fullUrl withId:callback];
      return;
    }
    (void) [mCurrnetDownUrls_ putWithId:fullUrl withId:callback];
    (void) [ComFqLibHttpHelper sendPostRequestWithNSString:URL withComFqHttpAsyncFQHttpParams:params withFQHttpResponseHandle:[self getImgaeHandelWithJavaIoFile:localFile withNSString:fullUrl]];
  }
}


#line 222
- (void)getImageWithComFqHalcyonEntityPhotoRecord:(ComFqHalcyonEntityPhotoRecord *)image
                    withComFqLibCallbackICallback:(id<ComFqLibCallbackICallback>)callback
                                      withBoolean:(BOOL)thumbnail {
  
#line 223
  ComFqHalcyonEntityPhoto *photo = [[ComFqHalcyonEntityPhoto alloc] init];
  [photo setImageIdWithInt:[((ComFqHalcyonEntityPhotoRecord *) nil_chk(image)) getImageId]];
  [photo setImagePathWithNSString:[image getImagePath]];
  [self getImageWithComFqHalcyonEntityPhoto:photo withComFqLibCallbackICallback:callback withBoolean:thumbnail];
}

- (void)getImageWithComFqHalcyonEntityPhotoRecord:(ComFqHalcyonEntityPhotoRecord *)image
                    withComFqLibCallbackICallback:(id<ComFqLibCallbackICallback>)callback {
  
#line 234
  ComFqHalcyonEntityPhoto *photo = [[ComFqHalcyonEntityPhoto alloc] init];
  [photo setImageIdWithInt:[((ComFqHalcyonEntityPhotoRecord *) nil_chk(image)) getImageId]];
  [photo setImagePathWithNSString:[image getImagePath]];
  [self getImageWithComFqHalcyonEntityPhoto:photo withComFqLibCallbackICallback:callback];
}


#line 244
- (void)getImageWithComFqHalcyonEntityPhoto:(ComFqHalcyonEntityPhoto *)photo
              withComFqLibCallbackICallback:(id<ComFqLibCallbackICallback>)callback {
  
#line 245
  [self getImageWithComFqHalcyonEntityPhoto:photo withComFqLibCallbackICallback:callback withBoolean:NO];
}


#line 249
- (FQBinaryResponseHandle *)getImgaeHandelWithJavaIoFile:(JavaIoFile *)localFile
                                            withNSString:(NSString *)url {
  
#line 250
  return [[ComFqHalcyonApiApiSystem_$2 alloc] initWithComFqHalcyonApiApiSystem:self withNSString:url withJavaIoFile:localFile];
}


#line 332
- (void)onErrorWithNSString:(NSString *)url
withComFqHttpAsyncFQHttpParams:(ComFqHttpAsyncFQHttpParams *)params
withComFqHalcyonApiApiSystem_API_TYPEEnum:(ComFqHalcyonApiApiSystem_API_TYPEEnum *)type
withHalcyonHttpResponseHandle:(HalcyonHttpResponseHandle *)handle
                    withInt:(int)code
               withNSString:(NSString *)msg
      withJavaLangThrowable:(JavaLangThrowable *)e {
  
#line 333
  switch ([type ordinal]) {
    case ComFqHalcyonApiApiSystem_API_TYPE_BROW:
    
#line 336
    [((HalcyonHttpResponseHandle *) nil_chk(handle)) onErrorWithInt:code withJavaLangThrowable:e];
    
#line 336
    ;
    
#line 359
    break;
    case ComFqHalcyonApiApiSystem_API_TYPE_OFFLINE:
    
#line 362
    break;
    case ComFqHalcyonApiApiSystem_API_TYPE_ONLINE:
    
#line 365
    [((HalcyonHttpResponseHandle *) nil_chk(handle)) onErrorWithInt:code withJavaLangThrowable:e == nil ? [[JavaLangThrowable alloc] initWithNSString:[NSString stringWithFormat:@"responseCode:%d msg:%@", code, msg]] : e];
    break;
    default:
    break;
  }
}


#line 372
- (void)onSuccessWithNSString:(NSString *)url
withComFqHttpAsyncFQHttpParams:(ComFqHttpAsyncFQHttpParams *)params
withComFqHalcyonApiApiSystem_API_TYPEEnum:(ComFqHalcyonApiApiSystem_API_TYPEEnum *)type
withHalcyonHttpResponseHandle:(HalcyonHttpResponseHandle *)handle
             withFQJSONObject:(FQJSONObject *)result {
  {
    
#line 376
    NSString *doctorPatientId;
    
#line 401
    int responseCode;
    
#line 373
    switch ([type ordinal]) {
      case ComFqHalcyonApiApiSystem_API_TYPE_BROW:
      
#line 376
      doctorPatientId = @"";
      @try {
        doctorPatientId = [((FQJSONObject *) nil_chk([((FQJSONObject *) nil_chk(result)) optJSONObjectWithNSString:@"results"])) optStringWithNSString:@"doctor_patient_id"];
        int returnVersion = [((FQJSONObject *) nil_chk([result optJSONObjectWithNSString:@"results"])) optIntWithNSString:@"version"];
        int localversion = [((FQJSONObject *) nil_chk([((ComFqHttpAsyncFQHttpParams *) nil_chk(params)) getJson])) optIntWithNSString:@"version" withInt:-1];
        if (localversion == returnVersion) {
          @try {
            
#line 384
            return;
          }
          @catch (
#line 385
          JavaLangException *e) {
            [((JavaLangException *) nil_chk(e)) printStackTrace];
          }
        }
      }
      @catch (
#line 389
      JavaLangException *e) {
      }
      
#line 392
      [((HalcyonHttpResponseHandle *) nil_chk(handle)) handleJsonWithFQJSONObject:result withBoolean:YES];
      break;
      case ComFqHalcyonApiApiSystem_API_TYPE_OFFLINE:
      
#line 396
      break;
      case ComFqHalcyonApiApiSystem_API_TYPE_ONLINE:
      
#line 399
      [((HalcyonHttpResponseHandle *) nil_chk(handle)) handleJsonWithFQJSONObject:result withBoolean:YES];
      
#line 401
      responseCode = [((FQJSONObject *) nil_chk(result)) optIntWithNSString:@"response_code"];
      if ([handle isKindOfClass:[ComFqHalcyonHalyconOnLineHandle class]]) {
        if (responseCode == 0) [((ComFqHalcyonHalyconOnLineHandle *) check_class_cast(handle, [ComFqHalcyonHalyconOnLineHandle class])) saveDataWithBoolean:YES];
        else [((ComFqHalcyonHalyconOnLineHandle *) check_class_cast(handle, [ComFqHalcyonHalyconOnLineHandle class])) saveDataWithBoolean:NO];
      }
      break;
      default:
      break;
    }
  }
}

- (void)copyAllFieldsTo:(ComFqHalcyonApiApiSystem *)other {
  [super copyAllFieldsTo:other];
  other->handles_ = handles_;
  other->mCurrnetDownUrls_ = mCurrnetDownUrls_;
  other->mNotify_ = mNotify_;
}
+ (IOSObjectArray *)__annotations_getImageWithComFqHalcyonEntityPhotoRecord_withComFqLibCallbackICallback_ {
  return [IOSObjectArray arrayWithObjects:(id[]) { [[JavaLangDeprecated alloc] init] } count:1 type:[IOSClass classWithProtocol:@protocol(JavaLangAnnotationAnnotation)]];
}

+ (IOSObjectArray *)__annotations_getImageWithComFqHalcyonEntityPhoto_withComFqLibCallbackICallback_ {
  return [IOSObjectArray arrayWithObjects:(id[]) { [[JavaLangDeprecated alloc] init] } count:1 type:[IOSClass classWithProtocol:@protocol(JavaLangAnnotationAnnotation)]];
}


+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "setNotifyWithComFqHalcyonApiApiSystem_NotifyOk:", "setNotify", "V", 0x1, NULL },
    { "onDataSet", NULL, "V", 0x1, NULL },
    { "getInstance", NULL, "Lcom.fq.halcyon.api.ApiSystem;", 0x9, NULL },
    { "init", "ApiSystem", NULL, 0x1, NULL },
    { "requireWithNSString:withComFqHalcyonApiApiSystem_API_TYPEEnum:withHalcyonHttpResponseHandle:", "require", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x1, "Ljava.lang.IllegalArgumentException;" },
    { "requireWithNSString:withComFqHttpAsyncFQHttpParams:withComFqHalcyonApiApiSystem_API_TYPEEnum:withHalcyonHttpResponseHandle:", "require", "Lcom.fq.http.potocol.HttpRequestPotocol;", 0x1, "Ljava.lang.IllegalArgumentException;" },
    { "getImageWithComFqHalcyonEntityPhoto:withComFqLibCallbackICallback:withBoolean:", "getImage", "V", 0x1, NULL },
    { "getHeadImageWithComFqHalcyonEntityPhoto:withComFqLibCallbackICallback:withBoolean:withInt:", "getHeadImage", "V", 0x1, NULL },
    { "getImageWithComFqHalcyonEntityPhotoRecord:withComFqLibCallbackICallback:withBoolean:", "getImage", "V", 0x1, NULL },
    { "getImageWithComFqHalcyonEntityPhotoRecord:withComFqLibCallbackICallback:", "getImage", "V", 0x1, NULL },
    { "getImageWithComFqHalcyonEntityPhoto:withComFqLibCallbackICallback:", "getImage", "V", 0x1, NULL },
    { "getImgaeHandelWithJavaIoFile:withNSString:", "getImgaeHandel", "Lcom.fq.http.potocol.FQBinaryResponseHandle;", 0x2, NULL },
    { "onErrorWithNSString:withComFqHttpAsyncFQHttpParams:withComFqHalcyonApiApiSystem_API_TYPEEnum:withHalcyonHttpResponseHandle:withInt:withNSString:withJavaLangThrowable:", "onError", "V", 0x2, NULL },
    { "onSuccessWithNSString:withComFqHttpAsyncFQHttpParams:withComFqHalcyonApiApiSystem_API_TYPEEnum:withHalcyonHttpResponseHandle:withFQJSONObject:", "onSuccess", "V", 0x2, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "handles_", NULL, 0x2, "Ljava.util.ArrayList;", NULL,  },
    { "instance_", NULL, 0xa, "Lcom.fq.halcyon.api.ApiSystem;", &ComFqHalcyonApiApiSystem_instance_,  },
    { "mNotify_", NULL, 0x2, "Lcom.fq.halcyon.api.ApiSystem$NotifyOk;", NULL,  },
    { "mCurrnetDownUrls_", NULL, 0x2, "Ljava.util.HashMap;", NULL,  },
  };
  static J2ObjcClassInfo _ComFqHalcyonApiApiSystem = { "ApiSystem", "com.fq.halcyon.api", NULL, 0x1, 14, methods, 4, fields, 0, NULL};
  return &_ComFqHalcyonApiApiSystem;
}

@end

#line 29

BOOL ComFqHalcyonApiApiSystem_API_TYPEEnum_initialized = NO;

ComFqHalcyonApiApiSystem_API_TYPEEnum *ComFqHalcyonApiApiSystem_API_TYPEEnum_values[4];

@implementation ComFqHalcyonApiApiSystem_API_TYPEEnum

- (id)copyWithZone:(NSZone *)zone {
  return self;
}

- (id)initWithNSString:(NSString *)__name withInt:(int)__ordinal {
  return [super initWithNSString:__name withInt:__ordinal];
}

+ (void)initialize {
  if (self == [ComFqHalcyonApiApiSystem_API_TYPEEnum class]) {
    ComFqHalcyonApiApiSystem_API_TYPEEnum_BROW = [[ComFqHalcyonApiApiSystem_API_TYPEEnum alloc] initWithNSString:@"BROW" withInt:0];
    ComFqHalcyonApiApiSystem_API_TYPEEnum_OFFLINE = [[ComFqHalcyonApiApiSystem_API_TYPEEnum alloc] initWithNSString:@"OFFLINE" withInt:1];
    ComFqHalcyonApiApiSystem_API_TYPEEnum_ONLINE = [[ComFqHalcyonApiApiSystem_API_TYPEEnum alloc] initWithNSString:@"ONLINE" withInt:2];
    ComFqHalcyonApiApiSystem_API_TYPEEnum_DIRECT = [[ComFqHalcyonApiApiSystem_API_TYPEEnum alloc] initWithNSString:@"DIRECT" withInt:3];
    ComFqHalcyonApiApiSystem_API_TYPEEnum_initialized = YES;
  }
}

+ (IOSObjectArray *)values {
  return [IOSObjectArray arrayWithObjects:ComFqHalcyonApiApiSystem_API_TYPEEnum_values count:4 type:[IOSClass classWithClass:[ComFqHalcyonApiApiSystem_API_TYPEEnum class]]];
}

+ (ComFqHalcyonApiApiSystem_API_TYPEEnum *)valueOfWithNSString:(NSString *)name {
  for (int i = 0; i < 4; i++) {
    ComFqHalcyonApiApiSystem_API_TYPEEnum *e = ComFqHalcyonApiApiSystem_API_TYPEEnum_values[i];
    if ([name isEqual:[e name]]) {
      return e;
    }
  }
  @throw [[JavaLangIllegalArgumentException alloc] initWithNSString:name];
  return nil;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "init", NULL, NULL, 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "BROW", "BROW", 0x4019, "Lcom.fq.halcyon.api.ApiSystem$API_TYPE;", &ComFqHalcyonApiApiSystem_API_TYPEEnum_BROW,  },
    { "OFFLINE", "OFFLINE", 0x4019, "Lcom.fq.halcyon.api.ApiSystem$API_TYPE;", &ComFqHalcyonApiApiSystem_API_TYPEEnum_OFFLINE,  },
    { "ONLINE", "ONLINE", 0x4019, "Lcom.fq.halcyon.api.ApiSystem$API_TYPE;", &ComFqHalcyonApiApiSystem_API_TYPEEnum_ONLINE,  },
    { "DIRECT", "DIRECT", 0x4019, "Lcom.fq.halcyon.api.ApiSystem$API_TYPE;", &ComFqHalcyonApiApiSystem_API_TYPEEnum_DIRECT,  },
  };
  static const char *superclass_type_args[] = {"Lcom.fq.halcyon.api.ApiSystem$API_TYPE;"};
  static J2ObjcClassInfo _ComFqHalcyonApiApiSystem_API_TYPEEnum = { "API_TYPE", "com.fq.halcyon.api", "ApiSystem", 0x4019, 1, methods, 4, fields, 1, superclass_type_args};
  return &_ComFqHalcyonApiApiSystem_API_TYPEEnum;
}

@end

@interface ComFqHalcyonApiApiSystem_NotifyOk : NSObject
@end

@implementation ComFqHalcyonApiApiSystem_NotifyOk

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "onImageSeted", NULL, "V", 0x401, NULL },
  };
  static J2ObjcClassInfo _ComFqHalcyonApiApiSystem_NotifyOk = { "NotifyOk", "com.fq.halcyon.api", "ApiSystem", 0x201, 1, methods, 0, NULL, 0, NULL};
  return &_ComFqHalcyonApiApiSystem_NotifyOk;
}

@end

@implementation ComFqHalcyonApiApiSystem_$1

- (void)onErrorWithInt:(int)code
 withJavaLangThrowable:(JavaLangThrowable *)e {
  
#line 104
  if (e != nil) {
    [this$0_ onErrorWithNSString:val$url_ withComFqHttpAsyncFQHttpParams:val$params_ withComFqHalcyonApiApiSystem_API_TYPEEnum:val$type_ withHalcyonHttpResponseHandle:val$handle_ withInt:0 withNSString:[e getMessage] withJavaLangThrowable:e];
  }
  else {
    
#line 107
    [this$0_ onErrorWithNSString:val$url_ withComFqHttpAsyncFQHttpParams:val$params_ withComFqHalcyonApiApiSystem_API_TYPEEnum:val$type_ withHalcyonHttpResponseHandle:val$handle_ withInt:0 withNSString:@"unknow error" withJavaLangThrowable:e];
  }
  [((JavaUtilArrayList *) nil_chk(this$0_->handles_)) removeWithId:val$handle_];
}


#line 113
- (void)handleJsonWithFQJSONObject:(FQJSONObject *)json {
  
#line 114
  int responseCode = [((FQJSONObject *) nil_chk(json)) optIntWithNSString:@"response_code"];
  NSString *msg = [json optStringWithNSString:@"msg"];
  if (responseCode != 0) {
    [this$0_ onErrorWithNSString:val$url_ withComFqHttpAsyncFQHttpParams:val$params_ withComFqHalcyonApiApiSystem_API_TYPEEnum:val$type_ withHalcyonHttpResponseHandle:val$handle_ withInt:responseCode withNSString:msg withJavaLangThrowable:[[JavaLangThrowable alloc] initWithNSString:[NSString stringWithFormat:@"responseCode:%d msg:%@", responseCode, msg]]];
  }
  else {
    
#line 119
    [this$0_ onSuccessWithNSString:val$url_ withComFqHttpAsyncFQHttpParams:val$params_ withComFqHalcyonApiApiSystem_API_TYPEEnum:val$type_ withHalcyonHttpResponseHandle:val$handle_ withFQJSONObject:json];
  }
  [((JavaUtilArrayList *) nil_chk(this$0_->handles_)) removeWithId:val$handle_];
}

- (id)initWithComFqHalcyonApiApiSystem:(ComFqHalcyonApiApiSystem *)outer$
                          withNSString:(NSString *)capture$0
        withComFqHttpAsyncFQHttpParams:(ComFqHttpAsyncFQHttpParams *)capture$1
withComFqHalcyonApiApiSystem_API_TYPEEnum:(ComFqHalcyonApiApiSystem_API_TYPEEnum *)capture$2
         withHalcyonHttpResponseHandle:(HalcyonHttpResponseHandle *)capture$3 {
  this$0_ = outer$;
  val$url_ = capture$0;
  val$params_ = capture$1;
  val$type_ = capture$2;
  val$handle_ = capture$3;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "onErrorWithInt:withJavaLangThrowable:", "onError", "V", 0x1, NULL },
    { "handleJsonWithFQJSONObject:", "handleJson", "V", 0x1, NULL },
    { "initWithComFqHalcyonApiApiSystem:withNSString:withComFqHttpAsyncFQHttpParams:withComFqHalcyonApiApiSystem_API_TYPEEnum:withHalcyonHttpResponseHandle:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.fq.halcyon.api.ApiSystem;", NULL,  },
    { "val$url_", NULL, 0x1012, "Ljava.lang.String;", NULL,  },
    { "val$params_", NULL, 0x1012, "Lcom.fq.http.async.FQHttpParams;", NULL,  },
    { "val$type_", NULL, 0x1012, "Lcom.fq.halcyon.api.ApiSystem$API_TYPE;", NULL,  },
    { "val$handle_", NULL, 0x1012, "Lcom.fq.halcyon.HalcyonHttpResponseHandle;", NULL,  },
  };
  static J2ObjcClassInfo _ComFqHalcyonApiApiSystem_$1 = { "$1", "com.fq.halcyon.api", "ApiSystem", 0x8000, 3, methods, 5, fields, 0, NULL};
  return &_ComFqHalcyonApiApiSystem_$1;
}

@end

@implementation ComFqHalcyonApiApiSystem_$2


#line 253
- (void)onErrorWithInt:(int)code
 withJavaLangThrowable:(JavaLangThrowable *)e {
  
#line 254
  id<ComFqLibCallbackICallback> callback = [((JavaUtilHashMap *) nil_chk(this$0_->mCurrnetDownUrls_)) getWithId:val$url_];
  [((id<ComFqLibCallbackICallback>) nil_chk(callback)) doCallbackWithId:@""];
  (void) [this$0_->mCurrnetDownUrls_ removeWithId:val$url_];
}


#line 260
- (void)handleBinaryDataWithByteArray:(IOSByteArray *)data {
  
#line 261
  NSString *imageUrl = [NSString stringWithBytes:data];
  (void) [ComFqLibHttpHelper sendGetRequestWithNSString:imageUrl withFQHttpResponseHandle:[[ComFqHalcyonApiApiSystem_$2_$1 alloc] initWithComFqHalcyonApiApiSystem_$2:self]];
}


#line 321
- (IOSObjectArray *)getRequestHeaders {
  
#line 322
  return nil;
}


#line 326
- (void)setRequestHeadersWithComFqHttpAsyncFQHeaderArray:(IOSObjectArray *)headers {
}

- (id)initWithComFqHalcyonApiApiSystem:(ComFqHalcyonApiApiSystem *)outer$
                          withNSString:(NSString *)capture$0
                        withJavaIoFile:(JavaIoFile *)capture$1 {
  this$0_ = outer$;
  val$url_ = capture$0;
  val$localFile_ = capture$1;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "onErrorWithInt:withJavaLangThrowable:", "onError", "V", 0x1, NULL },
    { "handleBinaryDataWithByteArray:", "handleBinaryData", "V", 0x1, NULL },
    { "getRequestHeaders", NULL, "[Lcom.fq.http.async.FQHeader;", 0x1, NULL },
    { "setRequestHeadersWithComFqHttpAsyncFQHeaderArray:", "setRequestHeaders", "V", 0x1, NULL },
    { "initWithComFqHalcyonApiApiSystem:withNSString:withJavaIoFile:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.fq.halcyon.api.ApiSystem;", NULL,  },
    { "val$url_", NULL, 0x1012, "Ljava.lang.String;", NULL,  },
    { "val$localFile_", NULL, 0x1012, "Ljava.io.File;", NULL,  },
  };
  static J2ObjcClassInfo _ComFqHalcyonApiApiSystem_$2 = { "$2", "com.fq.halcyon.api", "ApiSystem", 0x8000, 5, methods, 3, fields, 0, NULL};
  return &_ComFqHalcyonApiApiSystem_$2;
}

@end

@implementation ComFqHalcyonApiApiSystem_$2_$1


#line 265
- (void)onErrorWithInt:(int)code
 withJavaLangThrowable:(JavaLangThrowable *)e {
  
#line 266
  id<ComFqLibCallbackICallback> callback = [((JavaUtilHashMap *) nil_chk(this$0_->this$0_->mCurrnetDownUrls_)) getWithId:this$0_->val$url_];
  [((id<ComFqLibCallbackICallback>) nil_chk(callback)) doCallbackWithId:@""];
  (void) [this$0_->this$0_->mCurrnetDownUrls_ removeWithId:this$0_->val$url_];
}


#line 272
- (void)handleResponseWithByteArray:(IOSByteArray *)data {
  
#line 273
  id<ComFqLibCallbackICallback> callback = [((JavaUtilHashMap *) nil_chk(this$0_->this$0_->mCurrnetDownUrls_)) getWithId:this$0_->val$url_];
  (void) [this$0_->this$0_->mCurrnetDownUrls_ removeWithId:this$0_->val$url_];
  JavaIoFileOutputStream *mFileOutputStream = nil;
  
#line 278
  NSString *path = [((JavaIoFile *) nil_chk(this$0_->val$localFile_)) getAbsolutePath];
  if ([((NSString *) nil_chk(path)) contains:ComFqHalcyonExtendFilesystemFileSystem_get_RECORD_FOLDER_()]) {
    if ([ComFqLibPlatformPlatform getInstance] != nil) [((ComFqLibPlatformPlatform *) nil_chk([ComFqLibPlatformPlatform getInstance])) scanFileWithNSString:path];
  }
  
#line 283
  @try {
    mFileOutputStream = [[JavaIoFileOutputStream alloc] initWithJavaIoFile:this$0_->val$localFile_];
    @try {
      [mFileOutputStream writeWithByteArray:data];
      [mFileOutputStream flush];
    }
    @catch (
#line 288
    JavaIoIOException *e) {
      [((JavaIoIOException *) nil_chk(e)) printStackTrace];
    }
  }
  @catch (
#line 291
  JavaIoFileNotFoundException *e) {
    [((JavaIoFileNotFoundException *) nil_chk(e)) printStackTrace];
  }
  @finally {
    
#line 294
    if (mFileOutputStream != nil) {
      @try {
        [mFileOutputStream close];
      }
      @catch (
#line 297
      JavaIoIOException *e) {
        [((JavaIoIOException *) nil_chk(e)) printStackTrace];
      }
    }
  }
  [((id<ComFqLibCallbackICallback>) nil_chk(callback)) doCallbackWithId:path];
}


#line 307
- (IOSObjectArray *)getRequestHeaders {
  
#line 309
  return nil;
}

- (void)setRequestHeadersWithComFqHttpAsyncFQHeaderArray:(IOSObjectArray *)headers {
}

- (id)initWithComFqHalcyonApiApiSystem_$2:(ComFqHalcyonApiApiSystem_$2 *)outer$ {
  this$0_ = outer$;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "onErrorWithInt:withJavaLangThrowable:", "onError", "V", 0x1, NULL },
    { "handleResponseWithByteArray:", "handleResponse", "V", 0x1, NULL },
    { "getRequestHeaders", NULL, "[Lcom.fq.http.async.FQHeader;", 0x1, NULL },
    { "setRequestHeadersWithComFqHttpAsyncFQHeaderArray:", "setRequestHeaders", "V", 0x1, NULL },
    { "initWithComFqHalcyonApiApiSystem_$2:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.fq.halcyon.api.ApiSystem$2;", NULL,  },
  };
  static J2ObjcClassInfo _ComFqHalcyonApiApiSystem_$2_$1 = { "$1", "com.fq.halcyon.api", "ApiSystem$$2", 0x8000, 5, methods, 1, fields, 0, NULL};
  return &_ComFqHalcyonApiApiSystem_$2_$1;
}

@end
